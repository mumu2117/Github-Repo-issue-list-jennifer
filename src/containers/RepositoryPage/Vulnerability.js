import React from "react";
import {Table} from "react-bootstrap";

export default function Vulnerability({repo}) {
  if (repo.vulnerabilityAlerts.nodes.length < 1) {
    return <div className={'text-center p-5 bg-white'}>No data</div>
  }
  return (
    <div className="py-3 bg-white">
      <Table hover>
        <thead>
        <tr>
          <th>Package</th>
          <th>Requirements</th>
          <th>Version Range</th>
          <th></th>
          <th>Created at</th>
        </tr>
        </thead>
        <tbody>
        {repo.vulnerabilityAlerts.nodes.map(vulnerable => {
          console.log(vulnerable)
          return (
            <tr key={vulnerable.id}>
              <td><b>{vulnerable.securityVulnerability.package.name}</b> <small
                className="text-muted">{vulnerable.vulnerableManifestPath}</small></td>
              <td>{vulnerable.vulnerableRequirements}</td>
              <td>{vulnerable.securityVulnerability.vulnerableVersionRange}</td>
              <td><span className="badge badge-dark">{vulnerable.securityVulnerability.severity}</span></td>
              <td>{vulnerable.createdAt}</td>
            </tr>
          )
        })}
        </tbody>
      </Table>
    </div>
  )
}